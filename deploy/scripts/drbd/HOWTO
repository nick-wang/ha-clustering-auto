#1) Create the virt-io disks, running at 'host' machine
addVirioDisk.sh ./cluster_conf 2 `pwd` 3G

#2) Partitioning the new created disks, running at every working node
make_part_drbd.sh 2

#3) Continue if want to testing automatically, running at every working node
#   Need to manually configure the relationships of device/disk/meta-disk
configDRBD.sh /dev/vdb
configDRBD.sh /dev/vdc

#4) Start the first sync, running at every working node
firstInitDRBD.sh

#5) Add crm resource, running at every working node(isMaster can help to run at host1 only)
crmDRBD.sh

#6) Collect needed log file, running at 'host' machine
./drbd/collectLogs.sh ./cluster_conf /var/lib/jenkins/workspace/nwang/deploy-on-master-with-drbd/25

########### HOW TO CHANGE #############
1. No need to change the code of "addVirioDisk.sh",
  only change the input paras.
2. Change "make_part_drbd.sh" for the details partitioning layout.
3. Change the manually change section of "configDRBD.sh" based on the layout setting.
  Need to dup more scripts if different disks have different layout/resource.
4. No need to change "firstInitDRBD.sh"
5. Change "crmDRBD.sh" for custom crm resource.
6. Collect necessary log.

##### Jenkins configure example ########
#Add virtio disk for drbd
#This feature is not committed yet
cd ${LIB_DIR}
sleep 3
./drbd/addVirioDisk.sh ${CLUSTER_FILE} 1 "/mnt/vm/sles_nick" 3G
sleep 3
./drbd/runDRBDFilesOnGuest.sh ${CLUSTER_FILE} ${CONFIG_CLUSTER_DIR} 1
#Rebooting
sleep 2
./drbd/collectLogs.sh ${CLUSTER_FILE} ${BUILD_LOG_DIR}
