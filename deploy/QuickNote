Q. How to deploy a host server?

  1. Configure ntp-client:
     server address: "clock.via.net"
  2. Install package "java".
  3. Add to jenkins server slave.
  4. Install package "zypper in python-PyYAML".
  5. Copy running scripts to host (Or maybe update via rpm?git).
     Copy ssh private key to host, mode 0600
  6. Install package "nmap"
  7. Modify /etc/ssh/ssh_config, add one line:
     StrictHostKeyChecking no
  8. Create a directory for storing vm images.
     Like /mnt/vm/xxxxx
  9. Modify libvirtd to support TCP.
  10. Add a virbr0 for NAT.
  11. Install python library junit-xml.
      For sles, need python-setuptools.
  12. Install python library python-psutil.
      For cleanVM, get cpu/mem usage.

A.To make the cmd on the guest
"virsh -c qemu+tcp://host_ip/system", we have to modify

On host /etc/libvirt/libvirtd.conf
listen_tls = 0
listen_tcp = 1
tcp_port = "16509"
listen_addr = "0.0.0.0"
auth_tcp = "none"
